<!-- display data of current time period-->
{% extends "budget/base.html" %}
<!DOCTYPE html>
{% block head %}
  {% load static %}
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link rel="stylesheet" href="/static/css/home.css?{% now "U" %}" />
{% endblock head %}

{% block content %}

  <div class="d-flex main-container">

    <div class="d-flex flex-column left-column">
      <div class="link-container">
        <a class="menu-link">Link1</a>
      </div>
      <div class="link-container">
        <a class="menu-link">Link2</a>
      </div>
      <div class="link-container">
        <a class="menu-link">Link3</a>
      </div>

      <div class="link-container logout-link">
        <a class="menu-link" href="{% url 'budget:logout' %}">Logout</a>
      </div>
    </div>

    <div class="d-flex flex-column middle-column">
      <div class="time-span-selector"></div>
      
      <ul class="list-group category-list">
        {% for key, value in category_data.items %}
          <li class="list-group-item">

            <div class="d-flex">
              <div class="mb-auto mt-auto">
                <i class="fa-solid fa-angle-down me-2"></i>
                <i class="fa-solid fa-angle-up me-2 hidden"></i>
              </div>
              <div class="align-items-center category-label-container">
                {{key}}
                <div class="progress" role="progressbar">
                  <div class="progress-bar" style="width: {{value.3}}%"></div>
                </div>
              </div>
              <div class="ms-auto">
                <p style="padding: 0px; margin: 0;">{{value.1}}</p>
                <p style="font-size: 13px; padding: 0px; margin: 0;">{{value.0}}</p>
              </div>
            </div>

            <ul class="list-group list-group-flush expense-list">
              {% for expense in expenses %}
                {% if key == expense.category %}
                  <li class="list-group-item individual-expense">

                    <i class="fa-regular fa-pen-to-square"></i>
                    {{expense.description}}: {{expense.value}}
                    <i class="fa-regular fa-trash-can"></i>
                    
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
            
          </li> 
        {% endfor %}
        
      </ul>
    </div>

    <div class="d-flex flex-column ms-auto right-column">
      <div class="d-flex flex-column align-items-center">
        <div class="mt-2">
          <h3>$100</h3>
        </div>
        <div><h3>Spent</h3></div>
        <hr class="border border-secondary border-1 mt-2" style="width: 80%">
        <div><h3>$1000</h3></div>
        <div><h3>Remaining</h3></div>
        <hr class="border border-secondary border-1 mt-2" style="width: 80%">
        <div><h3>$1100</h3></div>
        <div><h3>Total Budget</h3></div>
        <hr class="border border-secondary border-1 mt-2" style="width: 80%">
      </div>

    </div>
  </div>

  <script type="text/javascript" src="/static/js/home.js?{% now "U" %}"></script>
{% endblock content %}

